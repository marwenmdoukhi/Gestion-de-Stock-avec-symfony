{% extends "layout.html.twig" %}
{% block title %}
Ajout d'une Entree
{% endblock %}
{% block body %}
<h3><span class="glyphicon glyphicon-plus"></span> Ajout d'une nouvelle Entree </h3>

<form style="margin-left:200px;width:800px;" id="multipleArticle" class="form-horizontal" action="{{ path('entree_create') }}" method="post" >

    {% include "gestionStock/Entree/form.html.twig" %}
    </br>
<div class ="js-before">
    <div class="form-group">
      <div class="col-md-offset-4 col-md-4">
        <button class="btn btn-success" id="articleplus"><span class="glyphicon glyphicon-plus"></span> ajouter un Article</button>
        <button type="submit" class="btn btn-primary"><span class="glyphicon glyphicon-check"></span> Valider</button>
      </div>
    </div>
</div>
</form>

{% endblock body %}
{% block javascripts %}
{{ parent() }}
<script> 
    (function($) {
        var Article_number=1,
        form = $('#multipleArticle'),
        zoneBefore = form.find('.js-before'),
        articleBtn = form.find('#articleplus');
        articleHtml ='<div class="well relative"><span class="label label-warning">Article N° @@</span><div class="form-group"><label for="" class="col-sm-4 control-label">Référence de l Article</label><div class="col-sm-4"><select id="cityselect" name="article[@@][ref]" class="form-control">{% for item in articles %}<option value="{{ item.ref }}">{{ item.ref}}</option>{% endfor %}</select></div></div><div class="form-group"><label for="" class="col-sm-4 control-label">Quantité</label><div class="col-sm-4"><input type="text" name="article[@@][quantite]" class="form-control"></div></div></div>';

        articleBtn.on('click', function(){
        	var i = Article_number++,
        	html = articleHtml;

            html = html.replace('@@', i);
            html = html.replace('@@', i);
            html = html.replace('@@', i);
            zoneBefore.before(html);
            return false;
        });

    })(jQuery);
</script>
{% endblock %}